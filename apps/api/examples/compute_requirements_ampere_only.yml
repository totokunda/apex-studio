# Example YAML manifest with compute requirements that only allows Ampere GPUs
# This is useful when you've only tested on specific hardware and want to ensure
# the model doesn't run on untested architectures

api_version: apex/v1
kind: Model
metadata:
  id: example-model-ampere-only
  name: Example Model (Ampere GPUs Only)
  version: 1.0.0
  description: Example showing how to restrict execution to only Ampere architecture

spec:
  engine: example
  model_type: example
  
  # Compute requirements with architecture allowlist
  compute_requirements:
    # Require at least Ampere generation
    min_cuda_compute_capability: 8.0
    
    # Support only CUDA (no CPU fallback for this model)
    supported_compute_types:
    - cuda
    
    # Only allow Ampere GPUs (tested architectures)
    allowed_cuda_architectures:
    - sm_80  # A100, A30, A10
    - sm_86  # RTX 3090, RTX 3080, RTX 3070, A40
    
    # This will reject:
    # - sm_75 (Turing): Even though capability check passes
    # - sm_89 (Ada Lovelace): RTX 4090, L4, L40
    # - sm_90 (Hopper): H100, H800

