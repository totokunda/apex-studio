#
# "Processors" / optional heavy deps (often include compiled extensions).
# These are intentionally separated from `requirements/requirements.txt` so we can
# layer machine-specific accelerators cleanly.
#
# If you need per-machine entrypoints (CPU / MPS / CUDA Ampere/Hopper/Blackwell),
# use `requirements/machines/*.txt`.
#

# Vision / segmentation / detection
facexlib==0.3.0
insightface @ https://raw.githubusercontent.com/cobanov/insightface_windows/d97fe110e1e5653f9814033291524147f2111d0f/whls/insightface-0.7.3-cp312-cp312-win_amd64.whl ; sys_platform == "win32"
mediapipe==0.10.21
mmengine==0.10.7
ptlflow
raft
# NOTE: RetinaFace is optional.
# The Cosmos guardrail face-blur filter will gracefully disable itself if RetinaFace
# is not installed (to avoid hard dependency conflicts in the default bundle).

# Build helpers
Cython>=0.29.36
rtree

# Models / external repos
git+https://github.com/xinyu1205/recognize-anything.git
# SAM2 currently requires torch>=2.5.1, but Intel macOS (x86_64) tops out at torch==2.2.x.
# Exclude SAM2 on Intel mac so the rest of the stack can install and run.
git+https://github.com/totokunda/sam2.git ; sys_platform != "darwin" or platform_machine != "x86_64"
# simplepyutils:
# - Intel macOS (x86_64): use totokunda fork for compatibility
# - Everything else: use the stable PyPI release
git+https://github.com/totokunda/simplepyutils.git
git+https://github.com/totokunda/florch.git
git+https://github.com/isarandi/smplfitter.git

fairscale
pycocotools
